# =============================================================================
# reliability-guardrails — environment variable reference
# Copy this file to .env and customise for your environment.
# =============================================================================

# ── Application ───────────────────────────────────────────────────────────────
PORT=8080
APP_ERROR_RATE=0.02   # Fraction of requests that return 500 (0.0 – 1.0)
APP_SLOW_RATE=0.10    # Fraction of requests with injected latency
APP_SLOW_MIN=0.5      # Minimum injected latency (seconds)
APP_SLOW_MAX=1.5      # Maximum injected latency (seconds)

# ── SLO Engine ────────────────────────────────────────────────────────────────
SLO_CONFIG=config/slos.yaml
SLO_METRICS=data/metrics.json

# ── Cost Collector ────────────────────────────────────────────────────────────
COST_DATA=data/cost.json
COST_WARN_PCT=20      # WoW % increase that triggers a warning
COST_BLOCK_PCT=30     # WoW % increase that triggers a block (with burn rate)

# ── Decision Engine ───────────────────────────────────────────────────────────
POLICIES_PATH=config/policies.yaml

# ── AI Explainer ─────────────────────────────────────────────────────────────
EXPLAINER_BACKEND=rule_based   # rule_based | openai | anthropic

# Required only if EXPLAINER_BACKEND=openai
# OPENAI_API_KEY=sk-...
# OPENAI_MODEL=gpt-4o

# Required only if EXPLAINER_BACKEND=anthropic
# ANTHROPIC_API_KEY=sk-ant-...
# ANTHROPIC_MODEL=claude-3-5-sonnet-20241022

# ── Logging ───────────────────────────────────────────────────────────────────
LOG_LEVEL=INFO   # DEBUG | INFO | WARNING | ERROR

# ── CI / Deployment context (populated by CI system) ─────────────────────────
SERVICE_NAME=checkout-api
BRANCH_NAME=main
COMMIT_SHA=
